version: 1
directus: 9.16.1
collections:
  - collection: accounts
    meta:
      accountability: all
      archive_app_filter: true
      archive_field: null
      archive_value: null
      collapse: open
      collection: accounts
      color: null
      display_template: null
      group: null
      hidden: false
      icon: group
      item_duplication_fields: null
      note: null
      singleton: false
      sort: 1
      sort_field: null
      translations:
        - language: fr-FR
          translation: Comptes
      unarchive_value: null
    schema: null
  - collection: cesi_accounts
    meta:
      accountability: all
      archive_app_filter: true
      archive_field: null
      archive_value: null
      collapse: open
      collection: cesi_accounts
      color: null
      display_template: '{{name}}'
      group: accounts
      hidden: false
      icon: admin_panel_settings
      item_duplication_fields: null
      note: null
      singleton: false
      sort: 1
      sort_field: null
      translations:
        -   plural: comptes CESI
            language: fr-FR
            singular: compte CESI
            translation: Compte CESI
      unarchive_value: null
    schema:
      collation: utf8mb4_0900_ai_ci
      comment: ''
      engine: InnoDB
      name: cesi_accounts
      schema: directus
  -   collection: cesi_accounts_updates
      meta:
        accountability: all
        archive_app_filter: true
        archive_field: null
        archive_value: null
        collapse: open
        collection: cesi_accounts_updates
        color: null
        display_template: '{{date_created}}'
        group: accounts
        hidden: false
        icon: update
        item_duplication_fields: null
        note: null
        singleton: false
        sort: 3
        sort_field: null
        translations:
          -   plural: mises à jour des comptes
              language: fr-FR
              singular: mise à jour des comptes
              translation: Historique des MAJ des comptes
        unarchive_value: null
      schema:
        collation: utf8mb4_0900_ai_ci
        comment: ''
        engine: InnoDB
        name: cesi_accounts_updates
        schema: directus
  -   collection: promotions
      meta:
        accountability: all
        archive_app_filter: true
        archive_field: null
        archive_value: null
        collapse: open
        collection: promotions
        color: null
        display_template: '{{name}} ({{code}})'
      group: accounts
      hidden: false
      icon: format_list_bulleted
      item_duplication_fields: null
      note: null
      singleton: false
      sort: 2
      sort_field: null
      translations:
        - plural: promotions
          language: fr-FR
          singular: promotion
          translation: Promotions
      unarchive_value: null
    schema:
      collation: utf8mb4_0900_ai_ci
      comment: ''
      engine: InnoDB
      name: promotions
      schema: directus
fields:
  - collection: cesi_accounts
    field: email
    meta:
      collection: cesi_accounts
      conditions: null
      display: null
      display_options: null
      field: email
      group: null
      hidden: false
      interface: input
      note: null
      options:
        iconRight: email
        trim: true
      readonly: false
      required: true
      sort: null
      special: null
      translations:
        - language: fr-FR
          translation: Email
      validation:
        _and:
          - email:
              _contains: '@viacesi.fr'
      validation_message: L'email doit être une adresse viacesi
      width: full
    schema:
      comment: ''
      data_type: varchar
      default_value: null
      foreign_key_column: null
      foreign_key_table: null
      generation_expression: null
      has_auto_increment: false
      is_generated: false
      is_nullable: true
      is_primary_key: false
      is_unique: true
      max_length: 127
      name: email
      numeric_precision: null
      numeric_scale: null
      table: cesi_accounts
    type: string
  - collection: cesi_accounts
    field: id
    meta:
      collection: cesi_accounts
      conditions: null
      display: null
      display_options: null
      field: id
      group: null
      hidden: true
      interface: input
      note: null
      options: null
      readonly: true
      required: false
      sort: null
      special:
        - uuid
      translations: null
      validation: null
      validation_message: null
      width: full
    schema:
      comment: ''
      data_type: char
      default_value: null
      foreign_key_column: null
      foreign_key_table: null
      generation_expression: null
      has_auto_increment: false
      is_generated: false
      is_nullable: false
      is_primary_key: true
      is_unique: false
      max_length: 36
      name: id
      numeric_precision: null
      numeric_scale: null
      table: cesi_accounts
    type: uuid
  - collection: cesi_accounts
    field: name
    meta:
      collection: cesi_accounts
      conditions: null
      display: null
      display_options: null
      field: name
      group: null
      hidden: false
      interface: input
      note: null
      options:
        iconRight: person
      readonly: false
      required: true
      sort: null
      special: null
      translations:
        - language: fr-FR
          translation: Nom
      validation: null
      validation_message: null
      width: full
    schema:
      comment: ''
      data_type: varchar
      default_value: null
      foreign_key_column: null
      foreign_key_table: null
      generation_expression: null
      has_auto_increment: false
      is_generated: false
      is_nullable: true
      is_primary_key: false
      is_unique: false
      max_length: 63
      name: name
      numeric_precision: null
      numeric_scale: null
      table: cesi_accounts
    type: string
  - collection: cesi_accounts
    field: promotion
    meta:
      collection: cesi_accounts
      conditions: null
      display: related-values
      display_options: null
      field: promotion
      group: null
      hidden: false
      interface: select-dropdown-m2o
      note: null
      options:
        template: '{{name}} ({{code}})'
      readonly: false
      required: true
      sort: null
      special:
        - m2o
      translations:
        - language: fr-FR
          translation: Promotion
      validation: null
      validation_message: null
      width: full
    schema:
      comment: ''
      data_type: varchar
      default_value: null
      foreign_key_column: code
      foreign_key_table: promotions
      generation_expression: null
      has_auto_increment: false
      is_generated: false
      is_nullable: true
      is_primary_key: false
      is_unique: false
      max_length: 255
      name: promotion
      numeric_precision: null
      numeric_scale: null
      table: cesi_accounts
    type: string
  -   collection: cesi_accounts_updates
      field: added_accounts
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: null
        display_options: null
        field: added_accounts
        group: null
        hidden: false
        interface: input
        note: null
        options:
          min: 0
        readonly: false
        required: true
        sort: null
        special: null
        translations:
          -   language: fr-FR
              translation: Comptes ajoutés
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: int
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: added_accounts
        numeric_precision: 10
        numeric_scale: 0
        table: cesi_accounts_updates
      type: integer
  -   collection: cesi_accounts_updates
      field: added_promotions
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: null
        display_options: null
        field: added_promotions
        group: null
        hidden: false
        interface: input
        note: null
        options:
          min: 0
        readonly: false
        required: true
        sort: null
        special: null
        translations:
          -   language: fr-FR
              translation: Promotions ajoutées
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: int
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: added_promotions
        numeric_precision: 10
        numeric_scale: 0
        table: cesi_accounts_updates
      type: integer
  -   collection: cesi_accounts_updates
      field: date_created
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: datetime
        display_options:
          relative: true
        field: date_created
        group: null
        hidden: false
        interface: datetime
        note: null
        options: null
        readonly: true
        required: false
        sort: 2
        special:
          - date-created
        translations: null
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: timestamp
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: date_created
        numeric_precision: null
        numeric_scale: null
        table: cesi_accounts_updates
      type: timestamp
  -   collection: cesi_accounts_updates
      field: deleted_accounts
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: null
        display_options: null
        field: deleted_accounts
        group: null
        hidden: false
        interface: input
        note: null
        options:
          min: 0
        readonly: false
        required: true
        sort: null
        special: null
        translations:
          -   language: fr-FR
              translation: Comptes supprimés
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: int
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: deleted_accounts
        numeric_precision: 10
        numeric_scale: 0
        table: cesi_accounts_updates
      type: integer
  -   collection: cesi_accounts_updates
      field: deleted_promotions
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: null
        display_options: null
        field: deleted_promotions
        group: null
        hidden: false
        interface: input
        note: null
        options:
          min: 0
        readonly: false
        required: true
        sort: null
        special: null
        translations:
          -   language: fr-FR
              translation: Promotions supprimées
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: int
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: deleted_promotions
        numeric_precision: 10
        numeric_scale: 0
        table: cesi_accounts_updates
      type: integer
  -   collection: cesi_accounts_updates
      field: divider-mcuc7s
      meta:
        collection: cesi_accounts_updates
        field: divider-mcuc7s
        special:
          - alias
          - no-data
        interface: presentation-divider
        options:
          title: Fichier
          inlineTitle: true
        display: null
        display_options: null
        readonly: false
        hidden: false
        sort: 4
        width: full
        translations: null
        note: null
        conditions: null
        required: false
        group: null
        validation: null
        validation_message: null
      schema: null
      type: alias
  -   collection: cesi_accounts_updates
      field: divider-tpnmlo
      meta:
        collection: cesi_accounts_updates
        field: divider-tpnmlo
        special:
          - alias
          - no-data
        interface: presentation-divider
        options:
          title: Résultats
          inlineTitle: true
        display: null
        display_options: null
        readonly: false
        hidden: false
        sort: null
        width: full
        translations: null
        note: null
        conditions: null
        required: false
        group: null
        validation: null
        validation_message: null
      schema: null
      type: alias
  -   collection: cesi_accounts_updates
      field: dump_date
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: datetime
        display_options: { }
        field: dump_date
        group: null
        hidden: false
        interface: datetime
        note: null
        options: null
        readonly: false
        required: false
        sort: 8
        special: null
        translations:
          -   language: fr-FR
              translation: Date du dump
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: date
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: dump_date
        numeric_precision: null
        numeric_scale: null
        table: cesi_accounts_updates
      type: date
  -   collection: cesi_accounts_updates
      field: dump_filename
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: null
        display_options: null
        field: dump_filename
        group: null
        hidden: false
        interface: input
        note: null
        options: null
        readonly: false
        required: true
        sort: 5
        special: null
        translations:
          -   language: fr-FR
              translation: Fichier de dump
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: varchar
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: 255
        name: dump_filename
        numeric_precision: null
        numeric_scale: null
        table: cesi_accounts_updates
      type: string
  -   collection: cesi_accounts_updates
      field: dump_lines
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: null
        display_options: null
        field: dump_lines
        group: null
        hidden: false
        interface: input
        note: null
        options:
          min: 0
        readonly: false
        required: true
        sort: 7
        special: null
        translations:
          -   language: fr-FR
              translation: Lignes de dump
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: int
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: dump_lines
        numeric_precision: 10
        numeric_scale: 0
        table: cesi_accounts_updates
      type: integer
  -   collection: cesi_accounts_updates
      field: dump_size
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: filesize
        display_options: null
        field: dump_size
        group: null
        hidden: false
        interface: input
        note: null
        options:
          min: 0
        readonly: false
        required: true
        sort: 6
        special: null
        translations:
          -   language: fr-FR
              translation: Taille du dump
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: int
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: dump_size
        numeric_precision: 10
        numeric_scale: 0
        table: cesi_accounts_updates
      type: integer
  -   collection: cesi_accounts_updates
      field: found_accounts
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: null
        display_options: null
        field: found_accounts
        group: null
        hidden: false
        interface: input
        note: null
        options:
          min: 0
        readonly: false
        required: true
        sort: null
        special: null
        translations:
          -   language: fr-FR
              translation: Comptes trouvés
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: int
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: found_accounts
        numeric_precision: 10
        numeric_scale: 0
        table: cesi_accounts_updates
      type: integer
  -   collection: cesi_accounts_updates
      field: id
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: null
        display_options: null
        field: id
        group: null
        hidden: true
        interface: input
        note: null
        options: null
        readonly: true
        required: false
        sort: 1
        special: null
        translations: null
        validation: null
        validation_message: null
        width: full
      schema:
        comment: ''
        data_type: int unsigned
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: true
        is_generated: false
        is_nullable: false
        is_primary_key: true
        is_unique: false
        max_length: null
        name: id
        numeric_precision: 10
        numeric_scale: 0
        table: cesi_accounts_updates
      type: integer
  -   collection: cesi_accounts_updates
      field: operations_total
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: null
        display_options: null
        field: operations_total
        group: null
        hidden: false
        interface: input
        note: null
        options:
          min: 0
        readonly: false
        required: true
        sort: null
        special: null
        translations:
          -   language: fr-FR
              translation: Nombre total d'opérations
        validation: null
        validation_message: null
        width: full
      schema:
        comment: ''
        data_type: int
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: operations_total
        numeric_precision: 10
        numeric_scale: 0
        table: cesi_accounts_updates
      type: integer
  -   collection: cesi_accounts_updates
      field: updated_accounts
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: null
        display_options: null
        field: updated_accounts
        group: null
        hidden: false
        interface: input
        note: null
        options:
          min: 0
        readonly: false
        required: true
        sort: null
        special: null
        translations:
          -   language: fr-FR
              translation: Comptes mis à jour
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: int
        default_value: null
        foreign_key_column: null
        foreign_key_table: null
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: null
        name: updated_accounts
        numeric_precision: 10
        numeric_scale: 0
        table: cesi_accounts_updates
      type: integer
  -   collection: cesi_accounts_updates
      field: user_created
      meta:
        collection: cesi_accounts_updates
        conditions: null
        display: user
        display_options: null
        field: user_created
        group: null
        hidden: false
        interface: select-dropdown-m2o
        note: null
        options:
          enableCreate: false
          template: '{{avatar.$thumbnail}} {{first_name}} {{last_name}}'
        readonly: true
        required: false
        sort: 3
        special:
          - user-created
        translations: null
        validation: null
        validation_message: null
        width: half
      schema:
        comment: ''
        data_type: char
        default_value: null
        foreign_key_column: id
        foreign_key_table: directus_users
        generation_expression: null
        has_auto_increment: false
        is_generated: false
        is_nullable: true
        is_primary_key: false
        is_unique: false
        max_length: 36
        name: user_created
        numeric_precision: null
        numeric_scale: null
        table: cesi_accounts_updates
      type: string
  -   collection: promotions
      field: code
      meta:
        collection: promotions
        conditions: null
        display: raw
        display_options: null
        field: code
        group: null
      hidden: false
      interface: input
      note: null
      options:
        font: monospace
        iconRight: key
        softLength: 8
        trim: true
      readonly: false
      required: false
      sort: null
      special: null
      translations: null
      validation:
        _and:
          - code:
              _starts_with: NY
      validation_message: Le code analytique doit être du CESI Nancy
      width: full
    schema:
      comment: ''
      data_type: varchar
      default_value: null
      foreign_key_column: null
      foreign_key_table: null
      generation_expression: null
      has_auto_increment: false
      is_generated: false
      is_nullable: false
      is_primary_key: true
      is_unique: false
      max_length: 255
      name: code
      numeric_precision: null
      numeric_scale: null
      table: promotions
    type: string
  - collection: promotions
    field: name
    meta:
      collection: promotions
      conditions: null
      display: null
      display_options: null
      field: name
      group: null
      hidden: false
      interface: input
      note: null
      options:
        iconRight: label
        trim: true
      readonly: false
      required: false
      sort: null
      special: null
      translations:
        - language: fr-FR
          translation: Nom
      validation: null
      validation_message: null
      width: full
    schema:
      comment: ''
      data_type: varchar
      default_value: null
      foreign_key_column: null
      foreign_key_table: null
      generation_expression: null
      has_auto_increment: false
      is_generated: false
      is_nullable: true
      is_primary_key: false
      is_unique: false
      max_length: 127
      name: name
      numeric_precision: null
      numeric_scale: null
      table: promotions
    type: string
relations:
  - collection: cesi_accounts
    field: promotion
    meta:
      junction_field: null
      many_collection: cesi_accounts
      many_field: promotion
      one_allowed_collections: null
      one_collection: promotions
      one_collection_field: null
      one_deselect_action: nullify
      one_field: null
      sort_field: null
    related_collection: promotions
    schema:
      column: promotion
      constraint_name: cesi_accounts_promotion_foreign
      foreign_key_column: code
      foreign_key_table: promotions
      on_delete: SET NULL
      on_update: NO ACTION
      table: cesi_accounts
  -   collection: cesi_accounts_updates
      field: user_created
      meta:
        junction_field: null
        many_collection: cesi_accounts_updates
        many_field: user_created
        one_allowed_collections: null
        one_collection: directus_users
        one_collection_field: null
        one_deselect_action: nullify
        one_field: null
        sort_field: null
      related_collection: directus_users
      schema:
        column: user_created
        constraint_name: cesi_accounts_updates_user_created_foreign
        foreign_key_column: id
        foreign_key_table: directus_users
        on_delete: NO ACTION
        on_update: NO ACTION
        table: cesi_accounts_updates
